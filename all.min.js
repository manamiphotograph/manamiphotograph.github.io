'use strict';

var AboutMe = function () {
  window.addEventListener('load', function () {
    // const bloop = document.getElementsByClassName('loader1')[0]
    // bloop.classList.remove('gone')
  });
}();
'use strict';

var PageLoader = function () {

  var pageLoader = document.getElementsByClassName('pageLoader')[0];

  window.onload = function (event) {
    pageLoader.classList.remove('loading');
  };
}();
'use strict';

var Contact = function Contact() {
  var forms = void 0;
  var dropDownDestination = void 0;

  var validHashes = ['Family', 'Maternity', '753', 'Omiyamairi'];

  var self = {
    init: function init() {
      forms = document.forms;
      dropDownDestination = forms[0].getElementsByClassName('dropdown')[0];
      bindEvents();
      var hash = window.location.hash.replace('#', '');
      if (validHashes.indexOf(hash) > -1) selectDropDownItem(hash);
    }
  };

  var bindEvents = function bindEvents() {
    return addFormClick();
  };

  var focusFormInput = function focusFormInput(target) {
    if (target.nextElementSibling !== null) {
      target.nextElementSibling.className = target.value != '' ? 'has-content' : '';
    }
  };

  var selectDropDownItem = function selectDropDownItem(text) {
    dropDownDestination.value = text;
    dropDownDestination.nextElementSibling.className = 'has-content';
  };

  var addDropDownEvents = function addDropDownEvents(dropDown) {
    if (dropDown != null) {
      var _loop = function _loop(i) {
        dropDown.children[i].addEventListener('click', function () {
          return selectDropDownItem(dropDown.children[i].innerHTML);
        }, false);
      };

      for (var i = 0; i < dropDown.children.length; i++) {
        _loop(i);
      }
    }
  };

  var pressSubmit = function pressSubmit(event) {
    var target = event.target;
    event.preventDefault();
    target.classList.add('sendPostcard');
    setTimeout(function () {
      target.classList.remove('sendPostcard');
    }, 10000, target);
  };

  var addFormClick = function addFormClick() {
    if (forms.length > 0) {
      (function () {
        var mainForm = forms[0];

        var _loop2 = function _loop2(i) {
          var type = mainForm[i].getAttribute('type');
          if (type === 'text' || type === 'email') {
            mainForm[i].addEventListener('blur', function () {
              return focusFormInput(mainForm[i]);
            }, false);
            if (mainForm[i].className == 'dropdown') {
              addDropDownEvents(document.getElementById(mainForm[i].getAttribute('targetlist')));
            }
          } else if (type === 'submit') {
            mainForm.addEventListener('submit', pressSubmit, false);
          }
        };

        for (var i = 0; i < mainForm.length; i++) {
          _loop2(i);
        }
      })();
    }
  };

  return self;
}();
'use strict';

var SubmitForm = function () {
  var envelope = document.getElementsByClassName('envelope')[0];
  var form = document.forms[0];
  var sentMessageBox = document.getElementById('sentMessageBox');
  var messageText = document.getElementById('messageContainer');
  var successMessage = "お問い合わせありがとうございます。通常お返事は１日～３日以内に行っております。 万が一３日経ってもこちらからの連絡がない場合は、うまく送信出来ていない可能性があります。<br><br>その場合はお手数ですが再度送信頂くか、<br><strong>080-5633-6406</strong><br>までお電話頂きますようお願いいたします。";
  var failMessage = "<span>送信出来ませんでした。</span><br><br>お手数ですが、もう一度やり直していただくか<br><strong>080-5633-6406</strong><br>までお電話ください。";

  var self = {
    init: function init() {
      bindEvents();
    }
  };

  var bindEvents = function bindEvents() {
    var submitButton = document.getElementById('submitButton');
    var closeMessageBoxButton = document.getElementById('closeMessageBox');
    closeMessageBoxButton.addEventListener('click', closeMessageBox, false);
  };

  self.submit = function () {
    var request = new XMLHttpRequest();
    request.open('POST', '//formspree.io/erikb_123@hotmail.com', true);
    request.setRequestHeader('accept', 'application/json');
    request.send(new FormData(form));

    request.onreadystatechange = function () {
      if (request.readyState === 4) {
        if (request.status === 200 && request.status < 300) {
          messageContainer.innerHTML = successMessage;
        } else {
          messageContainer.innerHTML = failMessage;
        }
        setTimeout(function () {
          sentMessageBox.classList.toggle('mailSent');
        }, 2000);
      }
      envelope.classList.toggle('reveal');
      form.classList.toggle('hideForm');
      setTimeout(function () {
        envelope.classList.toggle('reveal');
        form.classList.toggle('hideForm');
      }, 5000);
      clearForm(form);
    };
  };

  var closeMessageBox = function closeMessageBox() {
    return sentMessageBox.classList.remove('mailSent');
  };

  var clearForm = function clearForm(form) {
    for (var i = 0; i < form.length; i++) {
      var type = form[i].getAttribute('type');
      if (type === 'text' || type === 'email') {
        form[i].value = null;
        form[i].nextElementSibling;
        if (form[i].nextElementSibling !== null) form[i].nextElementSibling.classList.remove('has-content');
      }
    }
  };

  return self;
}();
'use strict';

var Navigation = function () {

  var burger = document.getElementById('burgermenu');

  var self = {
    init: function init() {
      bindEvents();
    }
  };

  var bindEvents = function bindEvents() {
    burger.addEventListener('click', toggleBurger);
  };

  var toggleBurger = function toggleBurger() {
    return burger.classList.toggle('clicked');
  };

  return self;
}();
'use strict';

var Slider = function () {

  var pic = void 0;
  var initX = void 0;
  var deltaX = void 0;
  var startTime = void 0;

  var gallery = void 0;
  var index = 0;

  var self = {
    init: function init(targetPic, imgList, setIndex) {
      pic = targetPic;
      pic.addEventListener('touchstart', handleStart, false);
      pic.addEventListener('touchend', handleEnd, false);
      pic.addEventListener('touchmove', handleMove, false);
      gallery = imgList;
      index = setIndex;
    }
  };

  var handleStart = function handleStart(event) {
    initX = event.targetTouches[0].clientX;
    startTime = performance.now();
    pic.style.transition = '';
  };

  var handleEnd = function handleEnd(event) {
    var elapsed = performance.now() - startTime;
    if (Math.abs(deltaX) > 100 || Math.abs(deltaX) < 10 && elapsed < 20) {
      if (deltaX < 0) {
        index = index + 1 === gallery.length ? 0 : index + 1;
      } else {
        index = index - 1 < 0 ? gallery.length - 1 : index - 1;
      }
      pic.style.transition = 'left 0.2s';
      pic.style.left = 'calc(100%)';
      setPic(index);
    }
    pic.style.transition = 'left 0.2s';
    pic.style.left = 'calc(50%)';
    deltaX = 0;
  };

  var handleMove = function handleMove(event) {
    pic.style.left = 'calc(50% - ' + -deltaX + 'px)';
    deltaX = event.targetTouches[0].clientX - initX;
  };

  var setPic = function setPic(index) {
    pic.onload = function () {
      pic.style.transition = 'left 0.2s';
      pic.style.left = 'calc(50%)';
    };
    pic.src = gallery[index];
  };

  return self;
}();
'use strict';

var Photoviewer = function Photoviewer(imgList) {
  var me = document.getElementById('photoviewer');
  var pic = document.getElementsByClassName('photoMag')[0];
  var closeBtn = me.getElementsByClassName('closeButton')[0];
  var leftBtn = me.getElementsByClassName('backButton')[0];
  var rightBtn = me.getElementsByClassName('forwardButton')[0];

  var gallery = imgList;
  var index = 0;

  var self = {
    open: function open(setIndex) {
      me.classList.remove('invisible');
      index = setIndex;
      pic.src = gallery[index];
      bindEvents();
    }
  };

  var bindEvents = function bindEvents() {
    leftBtn.addEventListener('click', goBackward);
    rightBtn.addEventListener('click', goForward);
    me.addEventListener('click', close);
    pic.addEventListener('click', stopPropagation);
    Slider.init(pic, imgList, index);
    window.addEventListener('keydown', btnPress);
    document.documentElement.style.overflowY = 'hidden';
  };

  var removeEvents = function removeEvents() {
    leftBtn.removeEventListener('click', goBackward);
    rightBtn.removeEventListener('click', goForward);
    me.removeEventListener('click', close);
    window.removeEventListener('keydown', btnPress);
    document.documentElement.style.overflowY = '';
  };

  var goForward = function goForward(event) {
    event.stopPropagation();
    index = index + 1 === gallery.length ? 0 : index + 1;
    pic.src = gallery[index];
  };

  var goBackward = function goBackward(event) {
    event.stopPropagation();
    index = index - 1 < 0 ? gallery.length - 1 : index - 1;
    pic.src = gallery[index];
  };

  var btnPress = function btnPress(event) {
    if (event.keyCode === 27) close();else if (event.keyCode === 37) goBackward(event);else if (event.keyCode === 39) goForward(event);
  };

  var stopPropagation = function stopPropagation(event) {
    event.stopPropagation();
  };

  var close = function close() {
    pic.src = '';
    me.classList.add('invisible');
    removeEvents();
  };

  return self;
};
'use strict';

var ImagePaths = {
  'family': ['/images/family/family-1.jpg', '/images/family/family-2.jpg', '/images/family/family-3.jpg', '/images/family/family-4.jpg', '/images/family/family-5.jpg', '/images/family/family-6.jpg', '/images/family/family-7.jpg', '/images/family/family-8.jpg', '/images/family/family-9.jpg', '/images/family/family-10.jpg', '/images/family/family-11.jpg', '/images/family/family-12.jpg', '/images/family/family-13.jpg', '/images/family/family-14.jpg', '/images/family/family-15.jpg'],
  'maternity': ['/images/maternity/maternity-1.jpg', '/images/maternity/maternity-2.jpg', '/images/maternity/maternity-3.jpg', '/images/maternity/maternity-4.jpg', '/images/maternity/maternity-5.jpg', '/images/maternity/maternity-6.jpg', '/images/maternity/maternity-7.jpg', '/images/maternity/maternity-8.jpg', '/images/maternity/maternity-9.jpg', '/images/maternity/maternity-10.jpg', '/images/maternity/maternity-11.jpg', '/images/maternity/maternity-12.jpg'],
  '753': ['/images/753/753-13.jpg', '/images/753/753-14.jpg', '/images/753/753-15.jpg', '/images/753/753-1.jpg', '/images/753/753-2.jpg', '/images/753/753-3.jpg', '/images/753/753-4.jpg', '/images/753/753-5.jpg', '/images/753/753-6.jpg', '/images/753/753-7.jpg', '/images/753/753-8.jpg', '/images/753/753-9.jpg', '/images/753/753-10.jpg', '/images/753/753-11.jpg', '/images/753/753-12.jpg'],
  'omiyamairi': ['/images/omiyamairi/omiyamairi-1.jpg', '/images/omiyamairi/omiyamairi-2.jpg', '/images/omiyamairi/omiyamairi-3.jpg', '/images/omiyamairi/omiyamairi-4.jpg', '/images/omiyamairi/omiyamairi-5.jpg', '/images/omiyamairi/omiyamairi-6.jpg', '/images/omiyamairi/omiyamairi-7.jpg', '/images/omiyamairi/omiyamairi-8.jpg', '/images/omiyamairi/omiyamairi-9.jpg', '/images/omiyamairi/omiyamairi-10.jpg', '/images/omiyamairi/omiyamairi-11.jpg', '/images/omiyamairi/omiyamairi-12.jpg']
};
'use strict';

var Portfolio = function () {
  var gallery = void 0;

  var self = {
    init: function init() {
      gallery = document.getElementsByClassName('imageGallery')[0];
      bindEvents();
    }
  };

  var bindEvents = function bindEvents() {
    var thumbs = gallery.children;
    for (var i = 0; i < thumbs.length; i++) {
      thumbs[i].addEventListener('click', openPhotoviewer);
      thumbs[i].index = i;
    }
  };

  var openPhotoviewer = function openPhotoviewer(event) {
    var viewer = Photoviewer(ImagePaths[gallery.id]);
    viewer.open(event.target.index);
  };

  return self;
}();